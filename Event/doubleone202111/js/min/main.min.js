function GameStart(){return Game.time>0&&21!=Game.time?(alert("遊戲尚未結束,不能重新開始哦!"),void 0):(Game.reset(),Game.init(),Game.start(),Game.startTime(),$(".start").css("display","none"),void 0)}function scoremodal(){var t=$("#score").text(),e=t.toString();110>e?$("#modal-container2").modal():e>=110&&$("#modal-container1").modal()}function copyurl1(){var t=document.getElementById("txt_output1");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert("複製成功")}var Mouse=function(t){this.mouse=null,this.num=-1,this.hole=-1,this.init(t)};Mouse.prototype={mousetype:{good:"https://img.eclife.com.tw/EDM/11011/liberate202111/money.png",bad:"https://img.eclife.com.tw/EDM/11011/liberate202111/money.png",goodkill:"https://img.eclife.com.tw/EDM/11011/liberate202111/money_touch.png",badkill:"https://img.eclife.com.tw/EDM/11011/liberate202111/money_touch.png"},init:function(t){t=t||"good";var e=this;this.mouse=document.createElement("div"),this.mouse.mousetype=t,this.mouse.islive=!0,screen.width<992?(this.mouse.style.cssText="width:200px;height:200px;background:url('"+this.mousetype[t]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:-10px;position:absolute;margin:auto;cursor:pointer;",this.mouse.style.backgroundSize="190px 190px",screen.width<768&&(this.mouse.style.cssText="width:150px;height:150px;background:url('"+this.mousetype[t]+"') no-repeat;left:50%;transform: translateX(-35%);bottom:-35px;position:absolute;margin:auto;cursor:pointer;",this.mouse.style.backgroundSize="110px 110px")):(this.mouse.style.cssText="width:200px;height:200px;background:url('"+this.mousetype[t]+"') no-repeat;left:50%;transform: translateX(-45%);bottom:-12px;position:absolute;margin:auto;cursor:pointer;",this.mouse.style.backgroundSize="180px 180px"),this.mouse.onclick=function(t){e.beat(t)}},beat:function(){this.mouse.islive&&(this.mouse.islive=!1,this.onbeat(),this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype+"kill"]+")",screen.width<992?(this.mouse.style.backgroundSize="190px 190px",screen.width<768&&(this.mouse.style.backgroundSize="110px 110px")):this.mouse.style.backgroundSize="180px 180px")},animation:function(t){t=screen.width<992?"fast"==t?30:"normal"==t?70:110:"fast"==t?100:"normal"==t?90:110;var e=this.mouse,s=e.style,o=parseInt(s.top,10),i=5,n=this,a=function(e){e-=i,e>=-40?(s.top=e+"px",setTimeout(function(){a(e)},t)):setTimeout(function(){u(-40)},10*t)},u=function(e){e+=i,o>=e?(s.top=e+"px",setTimeout(function(){u(e)},t)):n.reset()};a(o)},reset:function(){this.mouse.islive=!0,this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype]+")",screen.width<992?(this.mouse.style.backgroundSize="190px 190px",screen.width<768&&(this.mouse.style.backgroundSize="110px 110px")):this.mouse.style.backgroundSize="180px 180px",this.onend()},onbeat:function(){},onend:function(){}};var Game={time:21,mouseMap:{1:"good",2:"bad",3:"good",4:"bad",5:"bad",6:"good",7:"bad",8:"good",9:"good",10:"bad"},allMouse:[],nowScore:0,hasHole:{},hasMouse:{},lis:null,init:function(){this.lis=document.getElementById("panel").getElementsByTagName("li"),_this=this;for(var t=1;10>=t;t++){var e=new Mouse(this.mouseMap[t]);e.onbeat=function(){Game.changeScore(5)},e.onend=function(){var t=_this.lis[this.hole];t.removeChild(t.mouse.mouse),t.mouse=null,_this.hasHole[this.hole]=null,_this.hasMouse[this.num]=null},this.allMouse.push(e)}},changeScore:function(t){this.nowScore+=t,document.getElementById("score").innerHTML=this.nowScore},start:function(){if(!(this.time<=0)){for(var t=this,e=parseInt(9*Math.random(),10);this.hasHole[e];)e=parseInt(9*Math.random(),10);for(var s=parseInt(10*Math.random(),10);this.hasMouse[s];)s=parseInt(10*Math.random(),10);this.allMouse[s].hole=e,this.allMouse[s].num=s,this.lis[e].appendChild(this.allMouse[s].mouse),this.lis[e].mouse=this.allMouse[s],this.lis[e].mouse.animation("normal"),this.hasHole[e]="true",this.hasMouse[s]="true",setTimeout(function(){t.start()},200)}},startTime:function(){this.time-=1;var t=this;document.getElementById("time").innerHTML=this.time,this.time>0&&setTimeout(function(){t.startTime()},1e3),0==this.time&&(scoremodal(),$(".start").css("display","block"))},reset:function(){this.time=21,this.allMouse=[],this.nowScore=0,this.hasHole={},this.hasMouse={},this.lis=null,this.changeScore(0)}};